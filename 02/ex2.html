<!DOCTYPE html>
<html>
<script src ="src/numjs.min.js"> </script>


<body>
    
    <h3>Load image</h3>

    <input type="file" id="file" name="file">
    <div>
      <h3>Original image (h<span id="h"></span>, w<span id="w"></span>)</h3>
      <canvas id="original"></canvas>
    </div>
    <div>
      <div class="il">
        <h3>Transformed</h4>
        <canvas id="transformed"></canvas>
      </div>
    </div>
    <p >Processing took <span id="duration"></span>ms</p>

    <script src ="src/img.loader.js"> </script>
    <script src ="src/img.processing.js"> </script>
    
    <script>


        var xform = nj.array([[1, 0.5, 0], [0, 0.87, 0], [0, 0, 1]]);
        var imgprocesser;
        
        function wait() {
          if(img_load_flag == false) {
            window.setTimeout(wait, 100); /* this checks the flag every 100 milliseconds*/
          } 
          else {
            imgprocesser = new ImageProcessing.ImageProcesser(gray_img, null, xform);;
            imgprocesser.update();
          }
        }
        wait();

    </script>


</body>
</html>
